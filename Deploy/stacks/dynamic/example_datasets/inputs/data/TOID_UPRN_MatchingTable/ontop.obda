[PrefixDeclaration]
citykg:     http://theworldavatar.com/ontology/ontocitygml.owl#
foaf:		http://xmlns.com/foaf/0.1/
owl:		http://www.w3.org/2002/07/owl#
rdf:		http://www.w3.org/1999/02/22-rdf-syntax-ns#
xml:		http://www.w3.org/XML/1998/namespace
xsd:		http://www.w3.org/2001/XMLSchema#
obda:		https://w3id.org/obda/vocabulary#
rdfs:		http://www.w3.org/2000/01/rdf-schema#
geo:        http://www.opengis.net/ont/geosparql#

[MappingDeclaration] @collection [[
    
mappingId       Asset-mapping-TOID-UPRN
target      citykg:asset/{toid} foaf:hasTOID {toid}^^xsd:string ;
                 foaf:hasUPRN {uprn}^^xsd:integer .
source          SELECT tm."IDENTIFIER_2" as toid, tm."IDENTIFIER_1" as uprn
                FROM "citydb"."cityobject_genattrib" as cga, "TOID_UPRN_MatchingTable" as tm
                WHERE cga."strval" = tm."IDENTIFIER_2"

mappingId       Asset-mapping-Geometry
target      citykg:asset/{toid} foaf:hasTOID {toid}^^xsd:string ;
                    geo:hasGeometry "{wkt}"^^geo:wktLiteral .
source          SELECT sg."id" as toid,
                    ST_AsText(sg."geometry") as wkt
                FROM "citydb"."surface_geometry" as sg, "TOID_UPRN_MatchingTable" as tm
                WHERE sg."id" = tm."IDENTIFIER_2"
]]


